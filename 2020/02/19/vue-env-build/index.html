<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="搭建vue开发环境"><meta name="keywords" content="vue"><meta name="author" content="yunnight"><meta name="copyright" content="yunnight"><title>搭建vue开发环境 | yunnight</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.2.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装Node-js"><span class="toc-number">2.</span> <span class="toc-text">安装Node.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置npm命令"><span class="toc-number">3.</span> <span class="toc-text">配置npm命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#设置依赖模块下载地址"><span class="toc-number">3.1.</span> <span class="toc-text">设置依赖模块下载地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置全局模块和缓存目录"><span class="toc-number">3.2.</span> <span class="toc-text">设置全局模块和缓存目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#检查已设置内容"><span class="toc-number">3.3.</span> <span class="toc-text">检查已设置内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他有用的npm-config命令"><span class="toc-number">3.4.</span> <span class="toc-text">其他有用的npm config命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#初始化一个vue项目"><span class="toc-number">4.</span> <span class="toc-text">初始化一个vue项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装vue-cli"><span class="toc-number">4.1.</span> <span class="toc-text">安装vue-cli</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建vue项目"><span class="toc-number">4.2.</span> <span class="toc-text">创建vue项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运行vue项目"><span class="toc-number">4.3.</span> <span class="toc-text">运行vue项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#编辑器VSCode的安装和配置"><span class="toc-number">5.</span> <span class="toc-text">编辑器VSCode的安装和配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#下载vetur插件实现vue代码高亮"><span class="toc-number">5.1.</span> <span class="toc-text">下载vetur插件实现vue代码高亮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#快捷键设置"><span class="toc-number">5.2.</span> <span class="toc-text">快捷键设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#扩展内容"><span class="toc-number">6.</span> <span class="toc-text">扩展内容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#给vue项目安装模块"><span class="toc-number">6.1.</span> <span class="toc-text">给vue项目安装模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#安装axios模块"><span class="toc-number">6.1.1.</span> <span class="toc-text">安装axios模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#常用的npm-install命令"><span class="toc-number">6.1.2.</span> <span class="toc-text">常用的npm install命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#打包vue项目"><span class="toc-number">6.2.</span> <span class="toc-text">打包vue项目</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://raw.githubusercontent.com/yunnight/pics/master/blog_avatar.jpg"></div><div class="author-info__name text-center">yunnight</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">14</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">7</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">6</span></a></div></div></div><div id="content-outer"><div class="plain" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">yunnight</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div></div><div class="layout" id="content-inner"><article id="post"><div class="plain" id="post-title">搭建vue开发环境</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-02-19</time><span class="post-meta__separator">|</span><i class="fa fa-inbox" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/"> 前端</a></div><div class="article-container" id="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>因为自己工作是搞后台的，偶尔要写下前端的时候，发现连前端项目怎么启动都忘记了= =||甚至不知道开发环境是怎么稀里糊涂地就搭好了。这种“学过的东西又还给网上教程”的感觉十分不愉快，但如果是还给自己写的教程，那…应该会庆幸还好写下来了吧╭(′▽`)╯。<br>这篇博客先简单地介绍“搭建vue开发环境”的4个步骤：</p>
<ol>
<li>安装Node.js</li>
<li>配置npm命令</li>
<li>初始化一个vue项目看看效果</li>
<li>编辑器VSCode的安装和配置</li>
</ol>
<p>说完“搭建环境”后，再顺便说说vue项目是怎么添加依赖模块和怎么打包部署的。</p>
<ul>
<li>给vue项目安装模块</li>
<li>打包vue项目</li>
</ul>
<h2 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h2><p>进入官网下载：<a href="https://nodejs.org/en/" target="_blank" rel="noopener">https://nodejs.org/en/</a> 。安装好之后，在任一目录打开cmd输入命令测试一下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>
<p>有打印版本号，类似于v13.5.0，就算安装成功。</p>
<h2 id="配置npm命令"><a href="#配置npm命令" class="headerlink" title="配置npm命令"></a>配置npm命令</h2><h3 id="设置依赖模块下载地址"><a href="#设置依赖模块下载地址" class="headerlink" title="设置依赖模块下载地址"></a>设置依赖模块下载地址</h3><p>开发vue项目时经常要安装项目所需模块（和后台项目下载jar包差不多），默认的下载地址 <a href="https://registry.npmjs.org/" target="_blank" rel="noopener">https://registry.npmjs.org/</a> 很慢，一般使用国内镜像地址 <a href="https://registry.npm.taobao.org/" target="_blank" rel="noopener">https://registry.npm.taobao.org/</a> 。<br>在任一目录下打开cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<p>执行成功后没有任何打印。</p>
<h3 id="设置全局模块和缓存目录"><a href="#设置全局模块和缓存目录" class="headerlink" title="设置全局模块和缓存目录"></a>设置全局模块和缓存目录</h3><p>在node.js的安装目录下，如<code>D:\Program Files\nodejs</code>，新建文件夹<code>node_cache</code>（名字可以任意起），这个文件夹是缓存目录。<br>在任一目录下打开cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> cache <span class="string">"D:\Program Files\nodejs\node_cache"</span></span><br></pre></td></tr></table></figure>

<p>全局模块目录就和本地maven仓库差不多。在任一目录下打开cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> prefix <span class="string">"D:\Program Files\nodejs"</span></span><br></pre></td></tr></table></figure>
<p>这两个命令执行成功后没有任何打印。</p>
<h3 id="检查已设置内容"><a href="#检查已设置内容" class="headerlink" title="检查已设置内容"></a>检查已设置内容</h3><p>目前要自定义设置的就是这三个配置。要查看是否设置成功有两种方法：<br><strong>第一种：</strong><br>在任一目录下打开cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config ls</span><br></pre></td></tr></table></figure>
<p>结果会展示已自定义设置的内容：</p>
<img src="/2020/02/19/vue-env-build/npm_config_ls_result.png" class="" title="已设置内容">
<p><strong>第二种：</strong><br>进入<code>C:\Users\个人目录</code>下，查看<code>.npmrc</code>文件，内容就是自定义配置项。</p>
<h3 id="其他有用的npm-config命令"><a href="#其他有用的npm-config命令" class="headerlink" title="其他有用的npm config命令"></a>其他有用的npm config命令</h3><ul>
<li><p>查看npm所有配置项（包括默认配置项）： npm config ls -l</p>
</li>
<li><p>修改某一个配置项： npm config set &lt;配置项名&gt; &lt;配置项值&gt;</p>
</li>
<li><p>查看某一个配置项值：npm config get &lt;配置项名&gt;</p>
</li>
<li><p>查看npm config命令的使用帮助： npm config -h</p>
</li>
</ul>
<h2 id="初始化一个vue项目"><a href="#初始化一个vue项目" class="headerlink" title="初始化一个vue项目"></a>初始化一个vue项目</h2><blockquote>
<p><strong>如果不打算自己创建项目，而是直接用已有的项目框架来开发，这一步可以跳过</strong></p>
</blockquote>
<h3 id="安装vue-cli"><a href="#安装vue-cli" class="headerlink" title="安装vue-cli"></a>安装vue-cli</h3><p>vue-cli叫做vue脚手架，它可以自动生成vue+webpack的项目模板。<br>在任一目录下打开cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g vue-cli</span><br></pre></td></tr></table></figure>
<p>这个命令还可以简写成：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g vue-cli</span><br></pre></td></tr></table></figure>
<p>这个命令表示<strong>全局</strong>安装vue-cli。执行过程中会打印一堆模块的名字，没看到<strong>ERROR</strong>之类的字眼就安装成功了。<br>若想验证是否安装成功，可以在cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue</span><br></pre></td></tr></table></figure>
<p>看到有vue命令的使用帮助就代表安装成功了。<br>另外，这个vue-cli模块安装到了刚刚执行这个命令<code>npm config set prefix &quot;...&quot;</code>时设置的目录下的<code>node_modules</code>文件夹中。<br>npm install命令的更多介绍可以看“扩展内容”-“给vue项目安装模块”部分。</p>
<h3 id="创建vue项目"><a href="#创建vue项目" class="headerlink" title="创建vue项目"></a>创建vue项目</h3><p>在任一目录下打开cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack hello-demo</span><br></pre></td></tr></table></figure>
<p>这个命令表示在当前目录下创建hello-demo项目。</p>
<p>创建过程中，会问你一些问题，在看到<code>Install vue-router?</code>问题前都按<code>回车</code>，<code>Install vue-router?</code>这个问题输入<code>Y</code>，剩下的目前用不到就输入<code>N</code>。示例如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">? Project name hello-demo</span><br><span class="line">? Project description A Vue.js project</span><br><span class="line">? Author abc &lt;123456@qq.com&gt;</span><br><span class="line">? Vue build standalone</span><br><span class="line">? Install vue-router? Yes</span><br><span class="line">? Use ESLint to lint your code? No</span><br><span class="line">? Set up unit tests No</span><br><span class="line">? Setup e2e tests with Nightwatch? No</span><br><span class="line">? Should we run `npm install` <span class="keyword">for</span> you after the project has been created? (recommended) npm</span><br></pre></td></tr></table></figure>
<p>创建完成后有如下提示，说明创建成功。</p>
<img src="/2020/02/19/vue-env-build/vue_init_result.png" class="" title="创建成功">

<h3 id="运行vue项目"><a href="#运行vue项目" class="headerlink" title="运行vue项目"></a>运行vue项目</h3><p>按照创建完成后给出的提示命令，在cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> hello-demo</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure>
<p><code>npm run dev</code>命令简单地说就是用hello-demo项目中的<code>node_modules\webpack-dev-server</code>模块启动项目，用的是开发环境的配置<code>build\webpack.dev.conf.js</code>，详细一点的解释可以在网上找得到，这里就不展开了。<br>启动成功后，访问 <a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080</a> 可以看到如下页面：</p>
<img src="/2020/02/19/vue-env-build/run_result.png" class="" title="项目主页">

<h2 id="编辑器VSCode的安装和配置"><a href="#编辑器VSCode的安装和配置" class="headerlink" title="编辑器VSCode的安装和配置"></a>编辑器VSCode的安装和配置</h2><p>可以用来做vue开发的编辑器有vscode、webstorm等等，这里介绍的vscode，优点是免费而且轻量，缺点是使用一些必要的功能还要额外装插件。<br>在官网下载：<a href="https://code.visualstudio.com/" target="_blank" rel="noopener">https://code.visualstudio.com/</a> ，安装过程很普通所以不讲了。</p>
<h3 id="下载vetur插件实现vue代码高亮"><a href="#下载vetur插件实现vue代码高亮" class="headerlink" title="下载vetur插件实现vue代码高亮"></a>下载vetur插件实现vue代码高亮</h3><p>vscode打开vue项目时没有任何语法高亮。要下载vetur插件来实现。</p>
<ul>
<li><p>常规安装<br>在vscode界面最左侧的工具栏，如下图点击图标出现<code>Extensions</code>页面。</p>
<img src="/2020/02/19/vue-env-build/vscode_extensions.png" class="" title="Extensions">
<p>在输入框输入vetur，点击安装，安装好后重新打开vscode即可看到vue代码已高亮。</p>
</li>
<li><p>离线安装<br>因为开发环境很有可能是不联网的，所以有时候要采取特殊手段来安装插件。<br>先在有网的环境，进入官网下载插件包：<a href="https://marketplace.visualstudio.com/vscode" target="_blank" rel="noopener">https://marketplace.visualstudio.com/vscode</a> ，搜索vetur，点击图中的下载按钮下载。</p>
<img src="/2020/02/19/vue-env-build/vetur_download.png" class="" title="vetur">
<p>下载后的插件包是<code>.vsix</code>后缀的。<br>然后把这个<code>.vsix</code>文件放到vscode的安装目录的bin目录下。<br>接着在bin目录下打开cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code --install-extension octref.vetur-0.23.0.vsix</span><br></pre></td></tr></table></figure>
<p>离线安装其他插件也是用这样的方法。</p>
</li>
</ul>
<h3 id="快捷键设置"><a href="#快捷键设置" class="headerlink" title="快捷键设置"></a>快捷键设置</h3><p>点击File -&gt; Preference -&gt; Keyboard Shortcuts，可以查看和修改快捷键。</p>
<h2 id="扩展内容"><a href="#扩展内容" class="headerlink" title="扩展内容"></a>扩展内容</h2><p>以上步骤已经把vue开发环境搭建好了。下面扩展地讲一下vue项目依赖模块的安装和打包。</p>
<h3 id="给vue项目安装模块"><a href="#给vue项目安装模块" class="headerlink" title="给vue项目安装模块"></a>给vue项目安装模块</h3><h4 id="安装axios模块"><a href="#安装axios模块" class="headerlink" title="安装axios模块"></a>安装axios模块</h4><p>假设现在在开发hello-demo项目，发现需要一个axios插件，用来实现HTTP请求。<br>在项目根目录下打开cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save axios</span><br></pre></td></tr></table></figure>
<p>这个命令执行完，你会发现，此项目的<code>node_modules</code>文件夹中多了一个<code>axios</code>模块，且在项目的<code>package.json</code>文件中的<code>dependencies</code>括号内，多了<code>&quot;axios&quot;: &quot;^0.19.2&quot;</code>这一行。现在就可以在项目中使用axios了。</p>
<p><code>package.json</code>文件中的<code>dependencies</code>和<code>devDependencies</code>这两部分都表示项目依赖的模块，不同的是，<code>dependencies</code>代表<strong>生产环境</strong>需要依赖的模块，<code>devDependencies</code>代表<strong>开发</strong>时需要依赖的模块。</p>
<p>把模块添加到<code>devDependencies</code>下的命令是：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev &lt;模块名&gt;</span><br></pre></td></tr></table></figure>

<h4 id="常用的npm-install命令"><a href="#常用的npm-install命令" class="headerlink" title="常用的npm install命令"></a>常用的npm install命令</h4><ul>
<li><p>查看npm install命令的使用帮助：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -h</span><br></pre></td></tr></table></figure></li>
<li><p>全局安装模块：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g &lt;模块名&gt;</span><br></pre></td></tr></table></figure>
<p>安装到这个命令<code>npm config set prefix &quot;...&quot;</code>设置的目录下的<code>node_modules</code>文件夹中。</p>
</li>
<li><p>局部安装模块：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install &lt;模块名&gt;</span><br><span class="line">npm install --save &lt;模块名&gt;</span><br></pre></td></tr></table></figure>
<p>这两个命令效果一样，都是安装到当前项目下的<code>node_modules</code>文件夹中，同时添加到<code>package.json</code>文件中的<code>dependencies</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev &lt;模块名&gt;</span><br></pre></td></tr></table></figure>
<p>这个命令是安装到当前项目下的<code>node_modules</code>文件夹中，同时添加到<code>package.json</code>文件中的<code>devDependencies</code>。</p>
</li>
<li><p>下载项目依赖模块：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>
<p>这个命令会下载<code>package.json</code>文件中的<code>dependencies</code>和<code>devDependencies</code>中的所有依赖模块。<br>这个使用场景一般是git clone了项目，项目文件中通常不会包含依赖模块，依赖模块都写在<code>package.json</code>文件里，需要自己手动npm install下载一下。【和后台项目初次启动前先maven update一样</p>
</li>
<li><p>指定版本号下载模块：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install [-g|--save|--save-dev] &lt;模块名&gt;@&lt;版本号&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="打包vue项目"><a href="#打包vue项目" class="headerlink" title="打包vue项目"></a>打包vue项目</h3><p>进入要打包的项目目录，cmd输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>
<p>打包完成后会打印<code>Build complete</code>。可以发现，项目目录下多出一个dist文件夹。</p>
<img src="/2020/02/19/vue-env-build/dist.png" class="" title="dist">
<p>这个dist文件夹中就是项目的所有静态文件（做过混淆的），可以用nginx部署，nginx的配置文件基本是这样写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       8080;</span><br><span class="line">    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    root &#x2F;hellodemo&#x2F;dist; # dist文件所在目录</span><br><span class="line">    index index.html;</span><br><span class="line"></span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">      # 此处的 @router 实际上是引用下面的转发，否则在 Vue 路由刷新时可能会抛出 404</span><br><span class="line">      try_files $uri $uri&#x2F; @router;</span><br><span class="line">      # 请求指向的首页</span><br><span class="line">      index index.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 由于路由的资源不一定是真实的路径，无法找到具体文件</span><br><span class="line">    # 所以需要将请求重写到 index.html 中，然后交给真正的 Vue 路由处理请求资源</span><br><span class="line">    location @router &#123;</span><br><span class="line">      rewrite ^.*$ &#x2F;index.html last;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 这里配置后台接口地址转发，假设后台服务的IP端口是10.1.75.23:18081</span><br><span class="line">    # 比方说，前端“添加用户”的请求地址是http:&#x2F;&#x2F;localhost:8080&#x2F;api&#x2F;user&#x2F;add，就会被转发到 http:&#x2F;&#x2F;10.1.75.23:18081&#x2F;user&#x2F;add</span><br><span class="line">    location &#x2F;api&#x2F; &#123;</span><br><span class="line">          # 后端的真实接口</span><br><span class="line">          proxy_pass http:&#x2F;&#x2F;10.1.75.23:18081&#x2F;;</span><br><span class="line">          proxy_redirect off;</span><br><span class="line">          proxy_set_header Host $host;</span><br><span class="line">          proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">          proxy_set_header   Cookie $http_cookie;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>部署完后浏览器输入localhost:8080就能跳到项目主页了。</p>
</div></article><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue/">vue</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/02/23/grokking-algorithms-note/"><i class="fa fa-chevron-left">  </i><span>《算法图解》笔记</span></a></div><div class="next-post pull-right"><a href="/2020/02/18/tianyi-fight/"><span>天依激励法</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By yunnight</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>